# How to use images in kivy using .kv
#:import utils kivy.utils
#:import hex kivy.utils.get_color_from_hex

<FileChoosePopup>:
    title: "Choose Your Picture"
    size_hint: .9, .9
    auto_dismiss: False

    BoxLayout:
        orientation: "vertical"
        FileChooser:
            id: filechooser
            FileChooserIconLayout

        BoxLayout:
            size_hint: (1, 0.1)
            pos_hint: {'center_x': .5, 'center_y': .5}
            spacing: 20
            Button:
                text: "Cancel"
                on_release: root.dismiss()
            Button:
                text: "Load"
                on_release: root.load(filechooser.selection)
                id: ldbtn
                disabled: True if filechooser.selection==[] else False


<MyLayout>:
    my_image: my_image

###############################################

    BoxLayout:
        pos: root.pos
        size: root.size
        # padding: 20

        Image:
            id: my_image
            source: 'ice_river.jpg'
            size_hint_x: 1
            size_hint_y: 1
            allow_stretch: True

        BoxLayout:
            orientation:'vertical'
            padding: 10
            # spacing: 0
            size_hint_x: 0.4

            FloatLayout:
                # size_hint: (0.8, 1)
                MyButton:
                    background_color: 0,0,0,0
                    text: "Upload Your Picture"
                    bold: True
                    on_press: root.load_picture()
                    pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                    size_hint: (0.85, 0.2)
                    canvas.before:
                        Color:
                            rgba: hex('#1D8515') if self.hovered else hex('#105A0A')
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]


            FloatLayout:
                # size_hint: (0.8, 1)
                MyButton:
                    background_color: 0,0,0,0
                    text: "Change Your Picture"
                    bold: True
                    on_press: root.change_picture()
                    pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                    size_hint: (0.85, 0.2)
                    canvas.before:
                        Color:
                            rgba: hex('#1D8515') if self.hovered else hex('#105A0A')
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]

            FloatLayout:
                # size_hint: (0.8, 1)
                MyButton:
                    background_color: 0,0,0,0
                    text: "Detect"
                    bold: True
                    on_press: root.detect_objects()
                    pos_hint: {'center_y': 0.5, 'center_x': 0.5}
                    size_hint: (0.85, 0.2)
                    canvas.before:
                        Color:
                            rgba: hex('#1D8515') if self.hovered else hex('#105A0A')
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [10]

###############################################

   # Drawing the line between the multiples
    Label:
        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        size_hint_y: None
        height: 1

################################################




